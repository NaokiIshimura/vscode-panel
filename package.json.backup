{
  "name": "file-list-extension",
  "displayName": "File List Extension",
  "description": "VSCode標準のExplorerと同等の操作性を持つ高機能なファイル管理拡張機能",
  "version": "1.0.0",
  "publisher": "file-list-extension",
  "repository": {
    "type": "git",
    "url": "https://github.com/example/file-list-extension.git"
  },
  "engines": {
    "vscode": "^1.74.0"
  },
  "categories": [
    "Other"
  ],
  "activationEvents": [
    "onStartupFinished"
  ],
  "main": "./out/extension.js",
  "contributes": {
    "commands": [
      {
        "command": "fileList.selectFolder",
        "title": "フォルダを選択",
        "icon": "$(folder-opened)"
      },
      {
        "command": "fileList.refresh",
        "title": "更新",
        "icon": "$(refresh)"
      },
      {
        "command": "fileList.showInPanel",
        "title": "ファイル一覧に表示",
        "icon": "$(list-tree)"
      },
      {
        "command": "fileList.openFolder",
        "title": "フォルダを開く"
      },
      {
        "command": "fileList.goToParent",
        "title": "親フォルダへ移動",
        "icon": "$(arrow-up)"
      },
      {
        "command": "fileList.setRelativePath",
        "title": "相対パスを設定",
        "icon": "$(edit)"
      },
      {
        "command": "fileList.openSettings",
        "title": "設定を開く",
        "icon": "$(settings-gear)"
      },
      {
        "command": "fileList.openGitFile",
        "title": "Gitファイルを開く"
      },
      {
        "command": "fileList.showGitDiff",
        "title": "Git差分を表示"
      },
      {
        "command": "fileList.refreshGitChanges",
        "title": "Git変更を更新",
        "icon": "$(refresh)"
      },
      {
        "command": "fileList.createMemo",
        "title": "ファイルを作成",
        "icon": "$(new-file)"
      },
      {
        "command": "fileList.createFolder",
        "title": "フォルダを作成",
        "icon": "$(new-folder)"
      },
      {
        "command": "fileList.rename",
        "title": "名前の変更...",
        "icon": "$(edit)"
      },
      {
        "command": "fileList.delete",
        "title": "削除",
        "icon": "$(trash)"
      },
      {
        "command": "fileListExtension.selectAll",
        "title": "すべて選択",
        "category": "File List Extension"
      },
      {
        "command": "fileListExtension.contextMenu.copy",
        "title": "コピー",
        "category": "File List Extension"
      },
      {
        "command": "fileListExtension.contextMenu.cut",
        "title": "切り取り",
        "category": "File List Extension"
      },
      {
        "command": "fileListExtension.contextMenu.paste",
        "title": "貼り付け",
        "category": "File List Extension"
      },
      {
        "command": "fileListExtension.contextMenu.delete",
        "title": "削除",
        "category": "File List Extension"
      },
      {
        "command": "fileListExtension.contextMenu.rename",
        "title": "名前の変更",
        "category": "File List Extension"
      },
      {
        "command": "fileListExtension.contextMenu.newFile",
        "title": "新しいファイル",
        "category": "File List Extension"
      },
      {
        "command": "fileListExtension.contextMenu.newFolder",
        "title": "新しいフォルダ",
        "category": "File List Extension"
      },
      {
        "command": "fileListExtension.contextMenu.refresh",
        "title": "更新",
        "category": "File List Extension"
      },
      {
        "command": "fileListExtension.contextMenu.reveal",
        "title": "エクスプローラーで表示",
        "category": "File List Extension"
      },
      {
        "command": "fileListExtension.contextMenu.copyPath",
        "title": "パスをコピー",
        "category": "File List Extension"
      },
      {
        "command": "fileListExtension.refresh",
        "title": "ビューを更新",
        "category": "File List Extension"
      },
      {
        "command": "fileListExtension.search",
        "title": "ファイル検索",
        "category": "File List Extension",
        "icon": "$(search)"
      },
      {
        "command": "fileListExtension.clearSearch",
        "title": "検索をクリア",
        "category": "File List Extension",
        "icon": "$(clear-all)"
      },
      {
        "command": "fileListExtension.searchHistory",
        "title": "検索履歴を表示",
        "category": "File List Extension",
        "icon": "$(history)"
      },
      {
        "command": "fileListExtension.display.quickSettings",
        "title": "表示設定",
        "category": "File List Extension",
        "icon": "$(settings-gear)"
      },
      {
        "command": "fileListExtension.display.cycleSortOrder",
        "title": "ソート順序を変更",
        "category": "File List Extension",
        "icon": "$(sort-precedence)"
      },
      {
        "command": "fileListExtension.display.toggleViewMode",
        "title": "表示モードを切り替え",
        "category": "File List Extension",
        "icon": "$(list-tree)"
      },
      {
        "command": "fileListExtension.display.toggleHiddenFiles",
        "title": "隠しファイルの表示を切り替え",
        "category": "File List Extension",
        "icon": "$(eye)"
      },
      {
        "command": "fileListExtension.display.toggleCompactMode",
        "title": "コンパクトモードを切り替え",
        "category": "File List Extension",
        "icon": "$(layout)"
      }
    ],
    "views": {
      "fileListView": [
        {
          "id": "workspaceExplorer",
          "name": "エクスプローラー"
        },
        {
          "id": "fileListExplorer",
          "name": "フォルダツリー"
        },
        {
          "id": "fileListDetails",
          "name": "ファイル一覧"
        },
        {
          "id": "gitChanges",
          "name": "Git変更ファイル"
        }
      ]
    },
    "viewsContainers": {
      "activitybar": [
        {
          "id": "fileListView",
          "title": "File List",
          "icon": "$(note)"
        }
      ]
    },
    "menus": {
      "view/title": [
        {
          "command": "fileList.selectFolder",
          "when": "view == fileListExplorer",
          "group": "navigation"
        },
        {
          "command": "fileList.refresh",
          "when": "view == fileListExplorer",
          "group": "navigation"
        },
        {
          "command": "fileList.setRelativePath",
          "when": "view == fileListExplorer",
          "group": "navigation"
        },
        {
          "command": "fileList.openSettings",
          "when": "view == fileListExplorer",
          "group": "navigation"
        },
        {
          "command": "fileList.goToParent",
          "when": "view == fileListDetails",
          "group": "navigation"
        },
        {
          "command": "fileList.createMemo",
          "when": "view == fileListDetails",
          "group": "navigation"
        },
        {
          "command": "fileList.createFolder",
          "when": "view == fileListDetails",
          "group": "navigation"
        },
        {
          "command": "fileList.refreshGitChanges",
          "when": "view == gitChanges",
          "group": "navigation"
        },
        {
          "command": "fileListExtension.search",
          "when": "view == workspaceExplorer || view == fileListExplorer || view == fileListDetails",
          "group": "navigation"
        },
        {
          "command": "fileListExtension.clearSearch",
          "when": "view == workspaceExplorer || view == fileListExplorer || view == fileListDetails",
          "group": "navigation"
        },
        {
          "command": "fileListExtension.display.quickSettings",
          "when": "view == workspaceExplorer || view == fileListExplorer || view == fileListDetails",
          "group": "navigation"
        },
        {
          "command": "fileListExtension.display.cycleSortOrder",
          "when": "view == workspaceExplorer || view == fileListExplorer || view == fileListDetails",
          "group": "1_display@1"
        },
        {
          "command": "fileListExtension.display.toggleViewMode",
          "when": "view == workspaceExplorer || view == fileListExplorer || view == fileListDetails",
          "group": "1_display@2"
        },
        {
          "command": "fileListExtension.display.toggleHiddenFiles",
          "when": "view == workspaceExplorer || view == fileListExplorer || view == fileListDetails",
          "group": "1_display@3"
        }
      ],
      "view/item/context": [
        {
          "command": "fileList.showInPanel",
          "when": "view == fileListExplorer && viewItem =~ /directory/",
          "group": "inline"
        },
        {
          "command": "fileList.showInPanel",
          "when": "view == fileListDetails && viewItem =~ /directory/",
          "group": "inline"
        },
        {
          "command": "fileList.createMemo",
          "when": "view == fileListDetails && viewItem =~ /directory/",
          "group": "2_workspace"
        },
        {
          "command": "fileList.rename",
          "when": "view == fileListDetails && viewItem !~ /readonly/",
          "group": "3_edit@1"
        },
        {
          "command": "fileList.delete",
          "when": "view == fileListDetails && viewItem !~ /readonly/",
          "group": "3_edit@2"
        },
        {
          "command": "fileListExtension.contextMenu.copy",
          "when": "view == workspaceExplorer || view == fileListExplorer || view == fileListDetails",
          "group": "1_clipboard@1"
        },
        {
          "command": "fileListExtension.contextMenu.cut",
          "when": "(view == workspaceExplorer || view == fileListExplorer || view == fileListDetails) && viewItem !~ /readonly/",
          "group": "1_clipboard@2"
        },
        {
          "command": "fileListExtension.contextMenu.paste",
          "when": "(view == workspaceExplorer || view == fileListExplorer || view == fileListDetails) && viewItem =~ /directory/ && viewItem !~ /readonly/",
          "group": "1_clipboard@3"
        },
        {
          "command": "fileListExtension.contextMenu.delete",
          "when": "(view == workspaceExplorer || view == fileListExplorer || view == fileListDetails) && viewItem !~ /readonly/",
          "group": "2_modification@1"
        },
        {
          "command": "fileListExtension.contextMenu.rename",
          "when": "(view == workspaceExplorer || view == fileListExplorer || view == fileListDetails) && viewItem !~ /readonly/",
          "group": "2_modification@2"
        },
        {
          "command": "fileListExtension.contextMenu.newFile",
          "when": "(view == workspaceExplorer || view == fileListExplorer || view == fileListDetails) && viewItem =~ /directory/ && viewItem !~ /readonly/",
          "group": "3_creation@1"
        },
        {
          "command": "fileListExtension.contextMenu.newFolder",
          "when": "(view == workspaceExplorer || view == fileListExplorer || view == fileListDetails) && viewItem =~ /directory/ && viewItem !~ /readonly/",
          "group": "3_creation@2"
        },
        {
          "command": "fileListExtension.contextMenu.refresh",
          "when": "(view == workspaceExplorer || view == fileListExplorer || view == fileListDetails) && viewItem =~ /directory/",
          "group": "4_utility@1"
        },
        {
          "command": "fileListExtension.contextMenu.reveal",
          "when": "view == workspaceExplorer || view == fileListExplorer || view == fileListDetails",
          "group": "4_utility@2"
        },
        {
          "command": "fileListExtension.contextMenu.copyPath",
          "when": "view == workspaceExplorer || view == fileListExplorer || view == fileListDetails",
          "group": "4_utility@3"
        }
      ]
    },
    "_keybindings_disabled": [
      {
        "command": "fileListExtension.keyboard.copy",
        "key": "ctrl+c",
        "mac": "cmd+c",
        "when": "focusedView == fileListDetails || focusedView == fileListExplorer || focusedView == workspaceExplorer"
      },
      {
        "command": "fileListExtension.keyboard.cut",
        "key": "ctrl+x",
        "mac": "cmd+x",
        "when": "focusedView == fileListDetails || focusedView == fileListExplorer || focusedView == workspaceExplorer"
      },
      {
        "command": "fileListExtension.keyboard.paste",
        "key": "ctrl+v",
        "mac": "cmd+v",
        "when": "focusedView == fileListDetails || focusedView == fileListExplorer || focusedView == workspaceExplorer"
      },
      {
        "command": "fileListExtension.keyboard.delete",
        "key": "delete",
        "mac": "delete",
        "when": "focusedView == fileListDetails || focusedView == fileListExplorer || focusedView == workspaceExplorer"
      },
      {
        "command": "fileListExtension.keyboard.rename",
        "key": "f2",
        "mac": "f2",
        "when": "focusedView == fileListDetails || focusedView == fileListExplorer || focusedView == workspaceExplorer"
      },
      {
        "command": "fileListExtension.keyboard.selectAll",
        "key": "ctrl+a",
        "mac": "cmd+a",
        "when": "focusedView == fileListDetails || focusedView == fileListExplorer || focusedView == workspaceExplorer"
      },
      {
        "command": "fileListExtension.keyboard.newFile",
        "key": "ctrl+alt+n",
        "mac": "cmd+alt+n",
        "when": "focusedView == fileListDetails || focusedView == fileListExplorer || focusedView == workspaceExplorer"
      },
      {
        "command": "fileListExtension.keyboard.newFolder",
        "key": "ctrl+shift+n",
        "mac": "cmd+shift+n",
        "when": "focusedView == fileListDetails || focusedView == fileListExplorer || focusedView == workspaceExplorer"
      },
      {
        "command": "fileListExtension.keyboard.refresh",
        "key": "f5",
        "mac": "f5",
        "when": "focusedView == fileListDetails || focusedView == fileListExplorer || focusedView == workspaceExplorer"
      },
      {
        "command": "fileListExtension.search",
        "key": "ctrl+f",
        "mac": "cmd+f",
        "when": "focusedView == fileListDetails || focusedView == fileListExplorer || focusedView == workspaceExplorer"
      },
      {
        "command": "fileListExtension.clearSearch",
        "key": "escape",
        "mac": "escape",
        "when": "focusedView == fileListDetails || focusedView == fileListExplorer || focusedView == workspaceExplorer"
      },
      {
        "command": "fileListExtension.display.quickSettings",
        "key": "ctrl+shift+,",
        "mac": "cmd+shift+,",
        "when": "focusedView == fileListDetails || focusedView == fileListExplorer || focusedView == workspaceExplorer"
      },
      {
        "command": "fileListExtension.display.cycleSortOrder",
        "key": "ctrl+shift+s",
        "mac": "cmd+shift+s",
        "when": "focusedView == fileListDetails || focusedView == fileListExplorer || focusedView == workspaceExplorer"
      },
      {
        "command": "fileListExtension.display.toggleViewMode",
        "key": "ctrl+shift+v",
        "mac": "cmd+shift+v",
        "when": "focusedView == fileListDetails || focusedView == fileListExplorer || focusedView == workspaceExplorer"
      },
      {
        "command": "fileListExtension.display.toggleHiddenFiles",
        "key": "ctrl+shift+h",
        "mac": "cmd+shift+h",
        "when": "focusedView == fileListDetails || focusedView == fileListExplorer || focusedView == workspaceExplorer"
      }
    ]
  },
  "configuration": {
    "title": "File List Extension",
    "properties": {
      "fileListExtension.defaultRelativePath": {
        "type": "string",
        "default": "",
        "description": "フォルダツリーのデフォルト相対パス",
        "markdownDescription": "ワークスペースルートからの相対パスを指定します。\n\n**設定方法:**\n1. 拡張機能の編集ボタンから設定\n2. この設定を直接編集\n3. `.vscode/settings.json` に手動で記入\n\n**例:**\n- `src` → プロジェクト/src\n- `docs/api` → プロジェクト/docs/api\n- `.claude` → プロジェクト/.claude\n- 空文字 → プロジェクトルート\n\n**手動設定例:**\n```json\n{\n  \"fileListExtension.defaultRelativePath\": \".claude\"\n}\n```"
      },
      "fileListExtension.explorer.showHiddenFiles": {
        "type": "boolean",
        "default": false,
        "description": "隠しファイルとフォルダを表示する"
      },
      "fileListExtension.explorer.sortOrder": {
        "type": "string",
        "enum": [
          "name-asc",
          "name-desc",
          "size-asc",
          "size-desc",
          "modified-asc",
          "modified-desc"
        ],
        "default": "name-asc",
        "description": "ファイルのソート順序",
        "enumDescriptions": [
          "名前（昇順）",
          "名前（降順）",
          "サイズ（昇順）",
          "サイズ（降順）",
          "更新日時（昇順）",
          "更新日時（降順）"
        ]
      },
      "fileListExtension.explorer.displayMode": {
        "type": "string",
        "enum": [
          "list",
          "tree"
        ],
        "default": "tree",
        "description": "表示モード",
        "enumDescriptions": [
          "リスト表示",
          "ツリー表示"
        ]
      },
      "fileListExtension.explorer.confirmDelete": {
        "type": "boolean",
        "default": true,
        "description": "ファイル削除時に確認ダイアログを表示する"
      },
      "fileListExtension.explorer.confirmMove": {
        "type": "boolean",
        "default": false,
        "description": "ファイル移動時に確認ダイアログを表示する"
      },
      "fileListExtension.explorer.autoRevealActiveFile": {
        "type": "boolean",
        "default": true,
        "description": "アクティブなファイルを自動的にエクスプローラーで表示する"
      },
      "fileListExtension.explorer.maxFilesPerFolder": {
        "type": "number",
        "default": 1000,
        "minimum": 1,
        "maximum": 10000,
        "description": "フォルダあたりの最大ファイル表示数"
      },
      "fileListExtension.explorer.cacheTimeout": {
        "type": "number",
        "default": 30000,
        "minimum": 1000,
        "description": "キャッシュのタイムアウト時間（ミリ秒）"
      },
      "fileListExtension.explorer.debounceDelay": {
        "type": "number",
        "default": 300,
        "minimum": 0,
        "maximum": 2000,
        "description": "デバウンス遅延時間（ミリ秒）"
      },
      "fileListExtension.explorer.searchCaseSensitive": {
        "type": "boolean",
        "default": false,
        "description": "検索で大文字小文字を区別する"
      },
      "fileListExtension.explorer.searchIncludeHidden": {
        "type": "boolean",
        "default": false,
        "description": "検索に隠しファイルを含める"
      },
      "fileListExtension.explorer.searchMaxResults": {
        "type": "number",
        "default": 100,
        "minimum": 1,
        "maximum": 1000,
        "description": "検索結果の最大表示数"
      },
      "fileListExtension.explorer.defaultFileExtension": {
        "type": "string",
        "default": ".txt",
        "description": "新規ファイル作成時のデフォルト拡張子"
      },
      "fileListExtension.explorer.useTimestampInFileName": {
        "type": "boolean",
        "default": true,
        "description": "新規ファイル名にタイムスタンプを含める"
      },
      "fileListExtension.explorer.showFileIcons": {
        "type": "boolean",
        "default": true,
        "description": "ファイルアイコンを表示する"
      },
      "fileListExtension.explorer.showFileSize": {
        "type": "boolean",
        "default": true,
        "description": "ファイルサイズを表示する"
      },
      "fileListExtension.explorer.showModifiedDate": {
        "type": "boolean",
        "default": true,
        "description": "更新日時を表示する"
      },
      "fileListExtension.explorer.compactMode": {
        "type": "boolean",
        "default": false,
        "description": "コンパクト表示モードを使用する"
      },
      "fileListExtension.explorer.keyBindings": {
        "type": "object",
        "default": {
          "copy": "ctrl+c",
          "cut": "ctrl+x",
          "paste": "ctrl+v",
          "delete": "delete",
          "rename": "f2",
          "selectAll": "ctrl+a",
          "refresh": "f5",
          "newFile": "ctrl+n",
          "newFolder": "ctrl+shift+n",
          "search": "ctrl+f"
        },
        "description": "キーボードショートカットの設定",
        "properties": {
          "copy": {
            "type": "string",
            "description": "コピー操作のキーボードショートカット"
          },
          "cut": {
            "type": "string",
            "description": "切り取り操作のキーボードショートカット"
          },
          "paste": {
            "type": "string",
            "description": "貼り付け操作のキーボードショートカット"
          },
          "delete": {
            "type": "string",
            "description": "削除操作のキーボードショートカット"
          },
          "rename": {
            "type": "string",
            "description": "名前変更操作のキーボードショートカット"
          },
          "selectAll": {
            "type": "string",
            "description": "全選択操作のキーボードショートカット"
          },
          "refresh": {
            "type": "string",
            "description": "更新操作のキーボードショートカット"
          },
          "newFile": {
            "type": "string",
            "description": "新しいファイル作成のキーボードショートカット"
          },
          "newFolder": {
            "type": "string",
            "description": "新しいフォルダ作成のキーボードショートカット"
          },
          "search": {
            "type": "string",
            "description": "検索操作のキーボードショートカット"
          }
        }
      },
      "fileListExtension.keyboard.copy": {
        "type": "string",
        "default": "ctrl+c",
        "description": "コピー操作のキーボードショートカット"
      },
      "fileListExtension.keyboard.cut": {
        "type": "string",
        "default": "ctrl+x",
        "description": "切り取り操作のキーボードショートカット"
      },
      "fileListExtension.keyboard.paste": {
        "type": "string",
        "default": "ctrl+v",
        "description": "貼り付け操作のキーボードショートカット"
      },
      "fileListExtension.keyboard.delete": {
        "type": "string",
        "default": "delete",
        "description": "削除操作のキーボードショートカット"
      },
      "fileListExtension.keyboard.rename": {
        "type": "string",
        "default": "f2",
        "description": "名前変更操作のキーボードショートカット"
      },
      "fileListExtension.keyboard.selectAll": {
        "type": "string",
        "default": "ctrl+a",
        "description": "全選択操作のキーボードショートカット"
      },
      "fileListExtension.keyboard.newFile": {
        "type": "string",
        "default": "ctrl+alt+n",
        "description": "新しいファイル作成のキーボードショートカット"
      },
      "fileListExtension.keyboard.newFolder": {
        "type": "string",
        "default": "ctrl+shift+n",
        "description": "新しいフォルダ作成のキーボードショートカット"
      },
      "fileListExtension.keyboard.refresh": {
        "type": "string",
        "default": "f5",
        "description": "更新操作のキーボードショートカット"
      },
      "fileListExtension.keyboard.integration.enabled": {
        "type": "boolean",
        "default": true,
        "description": "キーボードショートカット統合機能を有効にする"
      },
      "fileListExtension.keyboard.integration.conflictResolution": {
        "type": "string",
        "enum": [
          "prefer-extension",
          "prefer-vscode",
          "disable"
        ],
        "default": "prefer-extension",
        "description": "キーボードショートカットの競合解決方法",
        "enumDescriptions": [
          "拡張機能のショートカットを優先",
          "VSCodeの標準ショートカットを優先",
          "競合するショートカットを無効化"
        ]
      },
      "fileListExtension.keyboard.integration.contextSensitive": {
        "type": "boolean",
        "default": true,
        "description": "コンテキストに応じてキーボードショートカットを有効/無効にする"
      },
      "fileListExtension.keyboard.integration.debugMode": {
        "type": "boolean",
        "default": false,
        "description": "キーボードショートカット統合のデバッグモードを有効にする"
      }
    }
  },
  "scripts": {
    "vscode:prepublish": "npm run compile",
    "compile": "tsc -p ./",
    "watch": "tsc -watch -p ./",
    "package": "vsce package --out releases/",
    "test": "mocha out/test/**/*.test.js",
    "test:unit": "npm run compile && mocha --ui tdd --require out/test/setup.js out/test/**/*.unit.test.js"
  },
  "devDependencies": {
    "@types/mocha": "^10.0.10",
    "@types/node": "18.x",
    "@types/vscode": "^1.74.0",
    "@types/sinon": "^17.0.3",
    "mocha": "^11.7.2",
    "sinon": "^19.0.2",
    "typescript": "^4.9.4"
  }
}